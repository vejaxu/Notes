# ch9-关系

## 关系及其性质

存在集合A和B，一个从A到B的二元关系是 $A\times{B}$ 的子集。

函数作为关系：一个从集合A到集合B的函数 $f$ 对A中的每个元素都指定B中的一个唯一的元素。

关系的性质

- 自反性：对每个元素 $\alpha \in A$ 有 $(\alpha, \alpha) \in R$ ，则集合A上的关系R为自反的
- 对称与反对称
- 传递性：对任意 $a, b, c \in A, (a, b) \in A并且(b, c) \in A 则 (a, c) \in A$ 

关系的组合：

## n元关系及其应用

两个以上集合的元素之间的关系，这种关系叫做n元关系。

设 $A_1, A_2,...,A_n$ 是集合，定义在这些集合上的n元关系是 $A_1 \times A_2 \times ... \times A_n$ 的子集，这些集合称为关系的域，n称为关系的阶。

基于关系的数据库：

- 当一组域的值确定一个关系中的n元组时，这些域的笛卡尔积叫做复合主键

## 关系的表示

使用矩阵表示关系

使用图表示关系

- 一个有向图由顶点集和边集组成。

## 关系的闭包

## 等价关系

## 偏序

# ch10-图

## 图与图模型

无限图，有限图

无向图：

- 简单图：每条边都连接两个不同的顶点且没有两条不同的边连接相同一对顶点的图

- 多重图：多重边连接同一对顶点

- 伪图：包含环或者存在多重边连接同一对顶点或同一个顶点的图

有向图：非空顶点集与有向边集

- 简单有向图：一个有向图不包含环和有向多重边

图模型

## 图术语

顶点邻接，边关联顶点/边连接顶点

顶点v所有相邻顶点的集合，称为v的邻居

顶点的度，deg为0，顶点是孤立的；deg为1，顶点是悬挂的

握手定理：有m条边的无向图，则 $2m=\sum_{v\in{V}}deg(v)$ 

无向图有偶数个度为奇数的顶点

完全图：每对不同顶点之间都恰有一条边的简单图

二分图：将简单图的顶点集分为两个不相交的非空集合，使得图中每一个边都连接两个子集个一个顶点，则此图为二分图

一个简单图是二分图，当且仅当能够对图中每个顶点赋予两种不同的颜色，并使得没有两个相邻的顶点被赋予相同的颜色。

二分图的应用

- 任务分配：m个员工，n项任务，$m \geqslant n$ 。每个员工可以完成n个工作的一种或多种。希望可以为每一个员工分配一个工作。
- 岛上的婚姻

## 图的表示与图的同构

图的表示：邻接表，邻接矩阵，关联矩阵

当一个简单图包含的边较少时，它是一个稀疏图，通常使用邻接表表示。而当是一个稠密的简单图时，采用邻接矩阵进行表示。

关联矩阵表示顶点与边的连接情况，也可以用来表示多重边和环

图的同构：设 $G_1=(V_1, E_1)$ 和 $G_2=(V_2, E_2)$ 是两个简单图，若存在一对一的和映上的从 $V_1$ 到 $V_2$ 的函数 $f$ ，且 $f$ 具有这样的性质，对 $V_1$ 中的所有 $a, b$ 来说，$a, b$ 在 $G_1$ 中相邻当且仅当 $f(a), f(b)$ 在 $G_2$ 中相邻，则两个图是同构的，函数 $f$ 称为同构。

## 连通性

无向图的连通性：每一对顶点间都有通路

- 在连通无向图的每一对不同顶点之间都存在简单通路

- 无向图的连通分支是无向图的连通子图，且该子图不是无向图的另一个连通子图的真子图，即G的连通分支是G的一个极大连通子图
- 删除图中某一个顶点和它关联的边，产生比原图更多的连通分支的子图，这样的顶点称为割点（或关节点），同理还有割边或桥，但是割边只删去这条边，不删除关联的顶点
- 并不是所有图都有割点：完全图 $K_n, n \geqslant 3$ ，不含割点的连通图称为不可分割图，它比有割点的图有更好的连通性
- 除完全图外，每一个连通图都有一个点割集，点割集 $V'$ ，将图顶点集减去这个集合，图是不连通的
- 非完全图的点连通度为点割集中最小的顶点数，记为  $\kappa(G)$
- 完全图的点连通度为n-1
- 图G是一个至少含有3个顶点的非完全图的连通图，则图G中顶点的最小度是图G的点连通度和边连通度的上界
- 点连通度可以用于网络检测，如故障路由器数量小于点连通度，则任意两个路由器间依然可以通讯

有向图的连通性：

- 任意顶点a，b，都有从a到b和从b到a的通路，则该图是强连通的
- 若在有向图的基本无向图中，任意两个顶点间都有通路，则该有向图是弱连通的（忽略边的方向，可以连通）
- 有向图的强连通分支/强分支，子图是强连通的，且不包含在更大的强连通子图中，单个顶点也可以是强分支

多种方式利用通路和回路判断两个图是否同构

- 是否相同长度的简单回路

## 欧拉通路与哈密顿通路

欧拉回路是包含每一条边的简单回路

欧拉通路是包含每一条边的简单通路

- 至少包含2个顶点的连通多重图具有欧拉回路当且仅当它的每个顶点的度为偶数


- 连通多重图具有欧拉通路但无欧拉回路当且仅当它恰有2个度为奇数的顶点


哈密顿通路是经过图中每一个顶点恰好一次的简单通路，经过图中每一个顶点恰好一次的简单回路为哈密顿回路

- 狄拉克定理：如果G是有n个顶点的简单图，其中 $n \geqslant 3$ ，并且G中每个顶点的度都至少为 $\frac{n}{2}$ ，则G有哈密顿回路

- 欧尔定理：如果G是有n个顶点的简单图，其中 $n \geqslant 3$ ，并且对于G中每一对不相邻的顶点u和v来说，都有 $deg(u)+deg(v) \geqslant n$ ，则有哈密顿回路

哈密顿回路的应用：

- 格雷码

## 最短通路问题

图中每条边都有一个权重，求解两个顶点间的最短通路：迪杰斯特拉算法

迪杰斯特拉算法求出连通简单无向加权图中两个顶点之间最短通路的长度

佛洛依德算法：求解加权连通简单图中所有顶点对之间的最短通路的长度

## 平面图

若可以在平面中画出一个图而边没有任何的交叉（其中边的交叉是表示边的直线或弧线在它们的公共端点以外的地方相交），则这个图是平面图

值得注意的是，通常交叉地画出一个图，这个图仍可能是平面图

图的平面性在电子电路的设计中有重要作用，可以用来为电路建立模型，顶点表示器件，边表示器件间的连接，如果一个电路的图是平面图，则可以把这个电路无交叉地印刷在电路板上

一个图的平面表示把平面分割成一些面，包括一个无界的面。欧拉公式：设G是e条边和v个顶点的联通平面简单图，设r是G的平面图表示中的面，则 $r=e-v+2$

若G是e条边和v个顶点的连通平面简单图，其中 $v\geqslant3$，则$e \leqslant 3v-6$

库拉图斯基定理：

若图是一个平面图，则通过删除一条边 $\lbrace u,v \rbrace$ 并且添加一个新顶点w和两条边 $\lbrace u,w \rbrace,\lbrace w,v \rbrace$ 获得的任何图也是平面图

这样的操作称为初等细分

若可以从相同的图通过一系列初等细分来获得图 $G_1,G_2$ ，则两幅图是同胚的

## 图着色问题

具有公共边界的两个区域通常指定为不同的颜色

对偶图：对于一个图，将地点简化为顶点，若地点边界相邻，则添加对应顶点的边，所得到的图为地图的对偶图

简单图的着色是对改图的每个顶点都指定一种颜色，使得没有两个相邻的顶点颜色相同，着色需要的最少颜色数，记为 $\chi(G)$

平面图的着色数不超过4

